<!DOCTYPE html>
<html>

<head>
  <title>Vue.js learn1 example</title>
  <!-- Delete ".min" for console warnings in development -->
  <script src="../../dist/vue.min.js"></script>
  <script src="../../dist/vuex.js"></script>
</head>

<body>
  <div id="app">
  </div>
  <script>
  const store = new Vuex.Store({
    state: {
      count: 0
    },
    mutations: {
      increment (state) {
        state.count++
      },
      deccrement (state) {
        state.count--
      }
    }
  })
  const Counter = {
    template: `<div>{{ count }}</div>`,
    computed: Vuex.mapState({
      count: state=>state.count
      }
    )
  }
  const app = new Vue({
    el: '#app',
    // 使用 "store" 选项后，可以注册 store 对象。将会把 store 实例注入到所有子组件。
    store,
    components: { Counter },
    template: `
      <div class="app">
        <counter></counter>
        <counter></counter>
        <button @click="increment"></button>
        <button @click="decrement"></button>
        <p> hello world </p>
      </div>
    `,
    methods: {
      increment () {
        store.commit("increment");
      },
      decrement() {
        store.commit("deccrement");
      }
    }
  })
  </script>
</body>

</html>